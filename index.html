/* MONTA A ROLETA COM FATIAS DE PIZZA */
function buildWheel() {
    const inner = document.getElementById("roletaInner");
    inner.innerHTML = "";
    
    let currentAngle = 0;
    const totalProbability = PREMIOS.reduce((sum, p) => sum + p.probabilidade, 0);
    
    PREMIOS.forEach((premio, i) => {
        // Calcular Ã¢ngulo da fatia baseado na probabilidade
        const sliceAngle = (premio.probabilidade / totalProbability) * 360;
        
        // Criar fatia
        const slice = document.createElement("div");
        slice.className = "slice";
        slice.style.backgroundColor = premio.cor;
        slice.style.transform = `rotate(${currentAngle}deg)`;
        
        // Criar o clip-path correto para fatia de pizza
        const endAngle = sliceAngle;
        const x2 = 50 + 50 * Math.sin(endAngle * Math.PI / 180);
        const y2 = 50 - 50 * Math.cos(endAngle * Math.PI / 180);
        
        slice.style.clipPath = `polygon(50% 50%, 50% 0%, ${x2}% ${y2}%)`;
        
        // Criar label
        const label = document.createElement("div");
        label.className = "slice-label";
        label.textContent = premio.nome.toUpperCase();
        label.style.color = "#FFF";
        label.style.fontWeight = "900";
        label.style.textShadow = "2px 2px 4px rgba(0,0,0,0.8)";
        
        // Posicionar label no centro da fatia
        const labelAngle = currentAngle + (sliceAngle / 2);
        const radius = 120;
        const x = radius * Math.cos((labelAngle - 90) * Math.PI / 180);
        const y = radius * Math.sin((labelAngle - 90) * Math.PI / 180);
        
        label.style.transform = `
            translate(calc(-50% + ${x}px), calc(-50% + ${y}px))
            rotate(${labelAngle}deg)
        `;
        
        slice.appendChild(label);
        inner.appendChild(slice);
        
        currentAngle += sliceAngle;
    });
}
